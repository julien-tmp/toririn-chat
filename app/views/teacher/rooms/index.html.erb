<article class="container">
  <% flash.each do |key, value| %>
    <div class="alert alert-success" role="alert">
      <%= content_tag(:div, value, class: "#{key}") %>
    </div>
  <% end %>
  <h1>教師用ページ</h1>
  <p><%= link_to "ログアウト", destroy_user_session_path, class:'btn btn-sm btn-info', method: :delete %></p>
  <hr>
  <p><%= link_to "チャットルームの新規作成", new_teacher_room_path, class:'btn btn-sm btn-primary' %></p>
  <h1>チャットルームの一覧</h1>
  <table class="table table-hover">
    <thead>
      <tr>
        <td>Room ID</td>
        <td>Room Name</td>
        <td># of messages in a room</td>
        <td>Actions</td>
      </tr>
    </thead>
    <tbody>
      <% Room.all.each do |room| %>
      <tr>
        <td><%= room.id %></td>
        <td><%= link_to room.name, room %></td>
        <td><%= room.messages.count %></td>
        <td><%= link_to 'チャットルームを削除', teacher_room_path(room.id), method: :delete, class:'btn btn-sm btn-default btn-warning' %></td>
        <td><%= link_to 'メッセージを全て削除', destroy_all_teacher_room_messages_path(room_id:room.id), method: :delete, class:'btn btn-sm btn-default btn-danger' %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</article>
